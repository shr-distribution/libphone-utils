/*
 *  Copyright (C) 2009
 *      Authors (alphabetical) :
 *              Tom Hacohen (tom@stosb.com)
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Lesser General Public License as published by
 *  the Free Software Foundation; version 3 of the license.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Lesser General Public License for more details.
 */

#ifndef _PHONE_UTILS_H
#define _PHONE_UTILS_H
#include <glib.h>

#define PHONE_UTILS_CONFIG "@SYSCONFDIR@/phone-utils.conf"
#define PHONE_UTILS_CONFIG_CODES_GROUP "local"

int
phone_utils_init();

void
phone_utils_deinit();

int
phone_utils_is_initialized();

int
phone_utils_set_codes(char *_international_prefix, char *_national_prefix, 
                      char *_country_code, char *_area_code);

/*void 
phone_utils_set_delimiters(char *trailing_delimiters, char *possible_chars, 
                       char *filler_chars) */

int
phone_utils_init_from_file(const char *filename) ;

int
phone_utils_save_config();

int
phone_utils_save_config_to_file(const char *filename);

char *
phone_utils_get_user_international_prefix() ;

char *
phone_utils_get_user_national_prefix() ;

char *
phone_utils_get_user_country_code();

char * 
phone_utils_get_user_area_code() ;

int
phone_utils_set_user_international_prefix(const char *value) ;

int
phone_utils_set_user_national_prefix(const char *value) ;

int
phone_utils_set_user_country_code(const char *value);

int
phone_utils_set_user_area_code(const char *value) ;

char *
phone_utils_normalize_number(const char *_number);

int 
phone_utils_numbers_equal(const char * _a, const char * _b);


/* sms stuff */
/* string is assumed to be in utf8 */
int
phone_utils_sms_strlen(const char *string);

/* returns true if the function will have to be encoded in ucs */
int
phone_utils_is_gsm_ucs(const char *string);

/* returns the char size in bytes (in gsm encoding) of the passed unicode char */
int
phone_utils_get_gsm_char_size(int chr);

#endif
